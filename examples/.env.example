# ============================================================================
# Application Configuration
# ============================================================================
APP_ENV=local
LOG_LEVEL=DEBUG
LOG_FORMAT=plain

# API Configuration
API_HOST=0.0.0.0
API_PORT=8001

# ============================================================================
# Database Configuration
# ============================================================================
# SQLite (easy local development - no setup required!)
SQL_URL=sqlite+aiosqlite:////tmp/fin_infra_template.db

# Local relative path (alternative)
# SQL_URL=sqlite+aiosqlite:///./fin_infra_template.db

# PostgreSQL (production recommended)
# SQL_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/fin_infra_template

# Connection Pool Settings
# SQL_POOL_SIZE=5
# SQL_MAX_OVERFLOW=10
# SQL_POOL_TIMEOUT=30

# ============================================================================
# Cache Configuration (Redis - for svc-infra caching)
# ============================================================================
REDIS_URL=redis://localhost:6379/0
CACHE_PREFIX=fin_infra_template
CACHE_VERSION=v1
CACHE_DEFAULT_TTL=3600

# ============================================================================
# Observability (svc-infra)
# ============================================================================
METRICS_ENABLED=true

# ============================================================================
# Banking Providers (fin-infra)
# ============================================================================
# Plaid (preferred for production)
# Sign up: https://dashboard.plaid.com/signup
PLAID_CLIENT_ID=your_plaid_client_id
PLAID_SECRET=your_plaid_secret
PLAID_ENV=sandbox  # sandbox, development, production

# Teller (alternative provider)
# Sign up: https://teller.io/signup
TELLER_API_KEY=your_teller_api_key
TELLER_CERTIFICATE_PATH=./teller_certificate.pem
TELLER_PRIVATE_KEY_PATH=./teller_private_key.pem
TELLER_ENV=sandbox  # sandbox, production

# MX (future provider)
# MX_CLIENT_ID=your_mx_client_id
# MX_API_KEY=your_mx_api_key
# MX_ENV=sandbox

# ============================================================================
# Market Data Providers (fin-infra)
# ============================================================================
# Alpha Vantage (free tier: 5 req/min, 500/day)
# Sign up: https://www.alphavantage.co/support/#api-key
ALPHAVANTAGE_API_KEY=your_alphavantage_api_key

# Yahoo Finance (free, no key required - fallback)
# No configuration needed - works out of the box

# Polygon (generous free tier - future)
# POLYGON_API_KEY=your_polygon_api_key

# ============================================================================
# Credit Score Providers (fin-infra)
# ============================================================================
# Experian (OAuth 2.0)
# Contact Experian for credentials
EXPERIAN_CLIENT_ID=your_experian_client_id
EXPERIAN_CLIENT_SECRET=your_experian_client_secret
EXPERIAN_BASE_URL=https://sandbox-us-api.experian.com  # or production URL

# Equifax (future)
# EQUIFAX_CLIENT_ID=your_equifax_client_id
# EQUIFAX_CLIENT_SECRET=your_equifax_client_secret

# TransUnion (future)
# TRANSUNION_CLIENT_ID=your_transunion_client_id
# TRANSUNION_CLIENT_SECRET=your_transunion_client_secret

# ============================================================================
# Brokerage Providers (fin-infra)
# ============================================================================
# Alpaca (paper trading free)
# Sign up: https://alpaca.markets/
ALPACA_API_KEY=your_alpaca_api_key
ALPACA_SECRET_KEY=your_alpaca_secret_key
ALPACA_ENV=paper  # paper, live

# Interactive Brokers (future)
# IB_USERNAME=your_ib_username
# IB_PASSWORD=your_ib_password

# SnapTrade (future)
# SNAPTRADE_CLIENT_ID=your_snaptrade_client_id
# SNAPTRADE_CONSUMER_KEY=your_snaptrade_consumer_key

# ============================================================================
# Tax Data Providers (fin-infra)
# ============================================================================
# IRS e-Services (production)
# IRS_USERNAME=your_irs_username
# IRS_PASSWORD=your_irs_password

# TaxBit (crypto tax)
# TAXBIT_CLIENT_ID=your_taxbit_client_id
# TAXBIT_CLIENT_SECRET=your_taxbit_client_secret
# TAXBIT_BASE_URL=https://api.taxbit.com

# ============================================================================
# AI/LLM Configuration (for crypto insights, categorization)
# ============================================================================
# Google Gemini (recommended for crypto insights)
# Get key: https://makersuite.google.com/app/apikey
GOOGLE_API_KEY=your_google_api_key
GOOGLE_MODEL=gemini-1.5-flash  # gemini-1.5-flash, gemini-1.5-pro

# OpenAI (alternative)
# OPENAI_API_KEY=your_openai_api_key
# OPENAI_MODEL=gpt-4o-mini

# Enable LLM features
ENABLE_LLM_INSIGHTS=false  # Set to true to enable AI-powered insights
ENABLE_LLM_CATEGORIZATION=false  # Set to true to enable AI categorization

# ============================================================================
# Feature Flags (enable/disable capabilities)
# ============================================================================
# Banking
ENABLE_BANKING=false  # Set to true when PLAID_* or TELLER_* configured

# Market Data
ENABLE_MARKET_DATA=true  # Works with Yahoo Finance by default (no key needed)

# Credit Scores
ENABLE_CREDIT=false  # Set to true when EXPERIAN_* configured

# Brokerage
ENABLE_BROKERAGE=false  # Set to true when ALPACA_* configured

# Tax Data
ENABLE_TAX=true  # Mock provider works without credentials

# Analytics (always enabled)
ENABLE_ANALYTICS=true

# Budgets (always enabled)
ENABLE_BUDGETS=true

# Goals (always enabled)
ENABLE_GOALS=true

# Documents (always enabled)
ENABLE_DOCUMENTS=true

# Net Worth Tracking (always enabled)
ENABLE_NET_WORTH=true

# Recurring Detection (always enabled)
ENABLE_RECURRING=true

# Categorization (always enabled, LLM optional)
ENABLE_CATEGORIZATION=true

# Insights Feed (always enabled)
ENABLE_INSIGHTS=true

# Crypto Insights (requires LLM)
ENABLE_CRYPTO_INSIGHTS=false  # Set to true when GOOGLE_API_KEY configured

# Rebalancing (always enabled)
ENABLE_REBALANCING=true

# Scenario Modeling (always enabled)
ENABLE_SCENARIOS=true

# ============================================================================
# Security & Compliance (svc-infra + fin-infra)
# ============================================================================
SECURITY_ENABLED=true

# CORS Configuration
CORS_ENABLED=true
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# ============================================================================
# Production Settings (override in production .env)
# ============================================================================
# APP_ENV=prod
# LOG_LEVEL=INFO
# LOG_FORMAT=json
# REDIS_URL=redis://production-redis:6379/0
# SQL_URL=postgresql+asyncpg://user:pass@prod-db:5432/fin_infra
